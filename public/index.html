<!DOCTYPE html>
<html>

  <head>

    <meta charset="utf-8">
    <title>BⱯBEL RËVOLUㅏION</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>

    <link rel="icon" href="/img/icone-babel.png" type="image/png">
    
    <link rel="stylesheet" href="/style/style.css">
    <link rel="stylesheet" href="/style/index.css">
  </head>
  <body>

  <header>
      <div class="logo" onclick="window.location.href = '/'">
          <img src="/img/logoV2.PNG" alt="image" title="Revenir au menu principal">
      </div>
  </header>

    <div id="container">
        <div id="title">
          <h1>WHAT IS BⱯBEL RËVOLUㅏION ?</h1>
        </div>
      </div>
      <div id="content">
        <div id="text">
          <p>
              BⱯBEL Rëvoluθion is an online contributive ecopoetic work in favor of biodiversity from an ecological, linguistic and cultural perspective.
              It is based on a collaborative research-action approach informed by research in sociolinguistics and didactics of plurilingualism.
              It examines the connection between the loss of flora and the disappearance of languages through a multi-voiced narrative.

              In a dystopian world, a resistance movement is growing against a political regime
              which applies a monolingual policy that impoverishes both the language and the natural world,
              and that contributes to the disappearance of words as well as the reality that they shape and reflect.

              Voices are raised in multimodal posts, in any language: yours.
              The posts interconnect instantaneously into a network and draw an organic and dynamic graph.
              Will this polyphonic collective of rebels succeed in overturning monoculture and monolingualism?
              It depends on you!

              The objective of BⱯBEL Rëvoluθion is to raise awareness of the dangers
              which threaten the environment and the languages
              and offer you a digital space of linguistic and cultural revival.
          </p>
            <h1>SESSIONS PUBLIQUES EN COURS</h1>
            <div id="public_sessions">
                <div id="session_template" onclick="window.location.href = '/session/43'">
                    <div class="image">
                        <img src="/img/graphe1.png" alt="graph" class="graph">
                    </div>
                    <p class="session_title">Session publique en cours</p>
                </div>
            </div>

            <h1>SESSIONS TERMINEES</h1>
            <div id="completed_sessions">
                <!-- TODO : Populate with completed sessions -->
            </div>
        </div>
  </body>
<script type="module">
    const sessionTemplate = document.querySelector("div#session_template");
    const completedSessionsDiv = document.querySelector("div#completed_sessions");
    // Get all the sessions that the current user is allowed to see and display them
    fetch('/session/get-visible-sessions', {
        method: 'get',
    }).then(res => {
        let sessions = res.json();
        // Create the HTML element for each session
        for (let session in sessions){
            let newSession = sessionTemplate.cloneNode(true);
            newSession.querySelector('.session_title').textContent = session.title;
            newSession.setAttribute('id', session.id);
            newSession.setAttributes('href', '/completed/' + session.id);
            console.log(newSession);
            completedSessionsDiv.appendChild(newSession);
        }
    }).catch(error => {
        console.error('Error getting sessions : ', error);
    });
</script>
 </html>